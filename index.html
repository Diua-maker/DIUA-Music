<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DIUA Music</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/howler/2.2.3/howler.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <style>
        :root {
            --primary-color: #5D5CDE;
            --primary-hover: #4a49b7;
            /* Light theme variables */
            --background-light: #FFFFFF;
            --background-light-darker: #F8F9FA;
            --background-light-lighter: #F1F3F4;
            --text-light-primary: #202124;
            --text-light-secondary: #5F6368;
            --text-light-tertiary: #9AA0A6;
            --button-light-hover: rgba(0, 0, 0, 0.1);
            --card-light-background: #FFFFFF;
            --border-light-color: #E8EAED;
            /* Dark theme variables */
            --background-dark: #181818;
            --background-darker: #121212;
            --background-lighter: #282828;
            --text-primary: #FFFFFF;
            --text-secondary: #B3B3B3;
            --text-tertiary: #686868;
            --button-hover: rgba(255, 255, 255, 0.1);
            --card-background: #232323;
            --border-color: #333333;
        }

        /* Light theme styles */
        :root:not(.dark) {
            --background-dark: var(--background-light);
            --background-darker: var(--background-light-darker);
            --background-lighter: var(--background-light-lighter);
            --text-primary: var(--text-light-primary);
            --text-secondary: var(--text-light-secondary);
            --text-tertiary: var(--text-light-tertiary);
            --button-hover: var(--button-light-hover);
            --card-background: var(--card-light-background);
            --border-color: var(--border-light-color);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: var(--background-dark);
            color: var(--text-primary);
            overflow-x: hidden;
            padding-bottom: 80px; /* Space for mini player */
            transition: background-color 0.3s ease, color 0.3s ease;
        }
        
        .logo-img {
            height: 80px;
            transition: transform 0.3s ease;
            width: auto;
            max-width: 150px;
        }

        .logo-img:hover {
            transform: scale(1.05);
        }

        /* Header styles */
        header {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background-color: var(--background-darker);
            padding: 1rem 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
            z-index: 100;
            transition: background-color 0.3s ease;
        }
    
        .logo {
            display: flex;
            align-items: center;
            font-size: 1.5rem;
            font-weight: bold;
            color: var(--primary-color);
            text-decoration: none;
        }

        .logo i {
            margin-right: 0.5rem;
            font-size: 1.8rem;
        }

        .nav-links {
            display: flex;
            align-items: center;
        }

        .nav-links a {
            color: var(--text-primary);
            text-decoration: none;
            margin-left: 1.5rem;
            padding: 0.5rem;
            border-radius: 5px;
            transition: all 0.3s ease;
            font-weight: 500;
        }

        .nav-links a:hover, .nav-links a.active {
            color: var(--primary-color);
            background-color: var(--button-hover);
        }

        .search-container {
            position: relative;
            margin-left: 1.5rem;
        }

        .search-input {
            background-color: var(--background-lighter);
            border: 1px solid var(--border-color);
            border-radius: 20px;
            padding: 0.5rem 1rem;
            padding-right: 2.5rem;
            color: var(--text-primary);
            width: 200px;
            transition: all 0.3s ease;
            font-size: 16px; /* Prevent zoom on mobile */
        }

        .search-input:focus {
            outline: none;
            border-color: var(--primary-color);
            width: 300px;
        }

        .search-btn {
            position: absolute;
            right: 10px;
            top: 50%;
            transform: translateY(-50%);
            background: none;
            border: none;
            color: var(--text-secondary);
            cursor: pointer;
        }

        .hamburger {
            display: none;
            flex-direction: column;
            cursor: pointer;
            z-index: 101;
        }

        .hamburger span {
            display: block;
            width: 25px;
            height: 3px;
            background-color: var(--text-primary);
            margin: 3px 0;
            transition: all 0.3s ease;
            border-radius: 3px;
        }

        /* Main content styles */
        main {
            margin-top: 70px;
            padding: 1rem;
        }

        .hero {
            text-align: center;
            padding: 3rem 1rem;
            border-radius: 10px;
            background: linear-gradient(to right, #20207e, #5D5CDE);
            margin-bottom: 2rem;
        }

        .hero h1 {
            font-size: 2.5rem;
            margin-bottom: 1rem;
        }

        .hero p {
            font-size: 1.1rem;
            margin-bottom: 2rem;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
        }

        /* Banner Slider Styles */
        .banner-slider-container {
            position: relative;
            margin: 2rem 0;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
            background: linear-gradient(135deg, var(--primary-color), var(--primary-hover));
        }

        .banner-slider {
            position: relative;
            height: 200px;
            overflow: hidden;
        }

        .banner-slide {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, var(--primary-color), var(--primary-hover));
            opacity: 0;
            transform: translateX(100%);
            transition: all 0.6s cubic-bezier(0.4, 0, 0.2, 1);
            display: flex;
            align-items: center;
            padding: 2rem;
        }

        .banner-slide.active {
            opacity: 1;
            transform: translateX(0);
        }

        .banner-slide.prev {
            transform: translateX(-100%);
        }

        .banner-content {
            display: flex;
            align-items: center;
            justify-content: space-between;
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
        }

        .banner-text {
            flex: 1;
            color: white;
        }

        .banner-text h3 {
            font-size: 1.8rem;
            margin-bottom: 0.5rem;
            font-weight: 700;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .banner-text p {
            font-size: 1.1rem;
            margin-bottom: 1.5rem;
            opacity: 0.9;
            line-height: 1.4;
            max-width: 500px;
        }

        .banner-btn {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            background-color: rgba(255, 255, 255, 0.2);
            color: white;
            padding: 0.8rem 1.5rem;
            border-radius: 10px;
            text-decoration: none;
            font-weight: 600;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.3);
        }

        .banner-btn:hover {
            background-color: rgba(255, 255, 255, 0.3);
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2);
        }

        .banner-visual {
            position: relative;
            flex: 0 0 auto;
            margin-left: 2rem;
        }

        .banner-icon {
            font-size: 4rem;
            color: rgba(255, 255, 255, 0.9);
            animation: bannerIconFloat 3s ease-in-out infinite;
        }

        .banner-decorations {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 120px;
            height: 120px;
            pointer-events: none;
        }

        .decoration-circle {
            position: absolute;
            width: 20px;
            height: 20px;
            background-color: rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            top: -10px;
            right: -10px;
            animation: decorationFloat 4s ease-in-out infinite;
        }

        .decoration-triangle {
            position: absolute;
            width: 0;
            height: 0;
            border-left: 8px solid transparent;
            border-right: 8px solid transparent;
            border-bottom: 14px solid rgba(255, 255, 255, 0.3);
            bottom: -15px;
            left: -15px;
            animation: decorationFloat 4s ease-in-out infinite 1s;
        }

        .decoration-square {
            position: absolute;
            width: 15px;
            height: 15px;
            background-color: rgba(255, 255, 255, 0.3);
            transform: rotate(45deg);
            top: -15px;
            left: -20px;
            animation: decorationFloat 4s ease-in-out infinite 2s;
        }

        @keyframes bannerIconFloat {
            0%, 100% {
                transform: translateY(0px);
            }
            50% {
                transform: translateY(-10px);
            }
        }

        @keyframes decorationFloat {
            0%, 100% {
                transform: translateY(0px) rotate(0deg);
            }
            50% {
                transform: translateY(-5px) rotate(180deg);
            }
        }

        .banner-dots {
            position: absolute;
            bottom: 1rem;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 0.5rem;
            z-index: 3;
        }

        .banner-dot {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background-color: rgba(255, 255, 255, 0.5);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .banner-dot.active {
            background-color: white;
            transform: scale(1.2);
        }

        .banner-nav {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background-color: rgba(255, 255, 255, 0.2);
            color: white;
            border: none;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            z-index: 3;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
        }

        .banner-nav:hover {
            background-color: rgba(255, 255, 255, 0.3);
            transform: translateY(-50%) scale(1.1);
        }

        .banner-prev {
            left: 1rem;
        }

        .banner-next {
            right: 1rem;
        }

        .genre-buttons {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 1rem;
            margin-bottom: 2rem;
        }

        .genre-button {
            background-color: var(--card-background);
            color: var(--text-primary);
            border: none;
            border-radius: 8px;
            padding: 0.8rem 1.5rem;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            text-decoration: none;
            display: inline-block;
        }

        .genre-button:hover {
            background-color: var(--primary-color);
            transform: translateY(-3px);
            box-shadow: 0 6px 8px rgba(0, 0, 0, 0.2);
        }

        .genre-button i {
            margin-right: 0.5rem;
        }

        .section-title {
            font-size: 1.5rem;
            margin-bottom: 1rem;
            margin-top: 2rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .section-title i {
            color: var(--primary-color);
        }

        .music-container {
            position: relative;
            margin-bottom: 2rem;
        }

        .music-scroll {
            display: flex;
            overflow-x: auto;
            padding: 1rem 0;
            gap: 1rem;
            scrollbar-width: thin;
            scrollbar-color: var(--primary-color) var(--background-lighter);
            scroll-behavior: smooth;
            -webkit-overflow-scrolling: touch;
        }

        .music-scroll::-webkit-scrollbar {
            height: 6px;
        }

        .music-scroll::-webkit-scrollbar-track {
            background: var(--background-lighter);
            border-radius: 3px;
        }

        .music-scroll::-webkit-scrollbar-thumb {
            background-color: var(--primary-color);
            border-radius: 3px;
        }

        .scroll-btn {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background-color: rgba(40, 40, 40, 0.8);
            color: var(--text-primary);
            border: none;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            z-index: 2;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
            transition: all 0.3s ease;
        }

        .scroll-btn:hover {
            background-color: var(--primary-color);
        }

        .scroll-left {
            left: 0;
        }

        .scroll-right {
            right: 0;
        }

        .music-card {
            min-width: 200px;
            background-color: var(--card-background);
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
        }

        .music-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.2);
        }

        .music-cover {
            position: relative;
            width: 100%;
            height: 200px;
            overflow: hidden;
        }

        .music-cover img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.3s ease;
        }

        .music-card:hover .music-cover img {
            transform: scale(1.05);
        }

        .play-overlay {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0, 0, 0, 0.5);
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .music-card:hover .play-overlay {
            opacity: 1;
        }

        .play-btn {
            width: 50px;
            height: 50px;
            background-color: var(--primary-color);
            color: var(--text-primary);
            border: none;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
            transition: all 0.3s ease;
        }

        .play-btn:hover {
            transform: scale(1.1);
            background-color: var(--primary-hover);
        }

        .music-info {
            padding: 1rem;
        }

        .music-title {
            font-size: 1rem;
            margin-bottom: 0.5rem;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .music-artist {
            color: var(--primary-color);
            font-size: 0.9rem;
            margin-bottom: 0.5rem;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .music-details {
            font-size: 0.8rem;
            color: var(--text-secondary);
            display: flex;
            justify-content: space-between;
        }

        .platform-indicator {
            position: absolute;
            top: 8px;
            right: 8px;
            background-color: rgba(0, 0, 0, 0.7);
            color: var(--text-primary);
            padding: 0.25rem 0.5rem;
            border-radius: 12px;
            font-size: 0.7rem;
            display: flex;
            align-items: center;
            gap: 0.25rem;
        }

        /* Music player styles - FULLSCREEN */
        .music-player-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, var(--background-darker), var(--background-dark));
            display: none;
            z-index: 999;
            justify-content: center;
            align-items: center;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            padding: 1rem;
        }

        .music-player-container.minimized {
            display: none;
        }

        .music-player {
            background: linear-gradient(145deg, var(--background-lighter), var(--background-dark));
            border-radius: 25px;
            width: 100%;
            max-width: 450px;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.4);
            position: relative;
            border: 1px solid var(--border-color);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            transform: scale(0.9);
            animation: playerEnter 0.4s cubic-bezier(0.4, 0, 0.2, 1) forwards;
        }

        @keyframes playerEnter {
            to {
                transform: scale(1);
            }
        }

        .player-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1.5rem 1.5rem 0 1.5rem;
            position: sticky;
            top: 0;
            background: linear-gradient(145deg, var(--background-lighter), var(--background-dark));
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            z-index: 1;
        }

        .player-title {
            font-weight: 600;
            font-size: 1.1rem;
        }

        .player-controls {
            display: flex;
            gap: 1rem;
        }

        .minimize-player, .close-player {
            background: var(--card-background);
            border: 1px solid var(--border-color);
            color: var(--text-primary);
            font-size: 1.3rem;
            cursor: pointer;
            transition: all 0.3s ease;
            padding: 0.7rem;
            border-radius: 15px;
            width: 45px;
            height: 45px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .minimize-player:hover, .close-player:hover {
            background-color: var(--primary-color);
            border-color: var(--primary-color);
            transform: scale(1.05);
        }

        .player-cover {
            width: calc(100% - 3rem);
            height: 350px;
            position: relative;
            margin: 1.5rem;
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.3);
        }

        .player-cover img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .player-info {
            padding: 0 1.5rem 1.5rem 1.5rem;
            text-align: center;
        }

        .player-song-title {
            font-size: 1.8rem;
            margin-bottom: 0.5rem;
            font-weight: 700;
        }

        .player-song-artist {
            color: var(--primary-color);
            margin-bottom: 0.5rem;
            font-size: 1.1rem;
            font-weight: 500;
        }

        .player-song-details {
            color: var(--text-secondary);
            font-size: 0.9rem;
            margin-bottom: 2rem;
        }

        .progress-container {
            background-color: var(--border-color);
            height: 6px;
            width: 100%;
            border-radius: 3px;
            margin-bottom: 1rem;
            cursor: pointer;
            position: relative;
        }

        .progress-bar {
            background: linear-gradient(90deg, var(--primary-color), var(--primary-hover));
            height: 100%;
            width: 0;
            border-radius: 3px;
            transition: width 0.1s linear;
            position: relative;
        }

        .progress-bar::after {
            content: '';
            position: absolute;
            right: 0;
            top: 50%;
            transform: translateY(-50%);
            width: 12px;
            height: 12px;
            background-color: var(--primary-color);
            border-radius: 50%;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .progress-container:hover .progress-bar::after {
            opacity: 1;
        }

        .time-container {
            display: flex;
            justify-content: space-between;
            color: var(--text-secondary);
            font-size: 0.9rem;
            margin-bottom: 2.5rem;
            font-weight: 500;
        }

        .controls {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 2rem;
            margin-bottom: 1.5rem;
        }

        .control-btn {
            background: none;
            border: none;
            color: var(--text-primary);
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 1.4rem;
            padding: 0.5rem;
            border-radius: 50%;
        }

        .control-btn:hover {
            color: var(--primary-color);
            background-color: var(--button-hover);
            transform: scale(1.1);
        }

        .control-btn.main {
            width: 70px;
            height: 70px;
            background: linear-gradient(135deg, var(--primary-color), var(--primary-hover));
            color: var(--text-primary);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.8rem;
            box-shadow: 0 8px 20px rgba(93, 92, 222, 0.3);
        }

        .control-btn.main:hover {
            background: linear-gradient(135deg, var(--primary-hover), var(--primary-color));
            transform: scale(1.05);
            box-shadow: 0 12px 25px rgba(93, 92, 222, 0.4);
        }

        .download-btn {
            margin: 1rem auto 0 auto;
            background: linear-gradient(135deg, var(--primary-color), var(--primary-hover));
            color: var(--text-primary);
            border: none;
            padding: 0.8rem 2rem;
            border-radius: 15px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            font-weight: 600;
            transition: all 0.3s ease;
            text-decoration: none;
            max-width: 200px;
        }

        .download-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(93, 92, 222, 0.3);
        }

        /* Mini Player Styles */
        .mini-player {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background-color: var(--background-darker);
            padding: 1rem;
            display: none;
            align-items: center;
            gap: 1rem;
            z-index: 998;
            box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.3);
            border-top: 1px solid var(--border-color);
            transition: background-color 0.3s ease;
        }

        .mini-player.active {
            display: flex;
        }

        .mini-player-cover {
            width: 50px;
            height: 50px;
            border-radius: 8px;
            overflow: hidden;
            cursor: pointer;
        }

        .mini-player-cover img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .mini-player-info {
            flex: 1;
            cursor: pointer;
        }

        .mini-player-title {
            font-size: 0.9rem;
            margin-bottom: 0.25rem;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .mini-player-artist {
            font-size: 0.8rem;
            color: var(--text-secondary);
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .mini-player-controls {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .mini-control-btn {
            background: none;
            border: none;
            color: var(--text-primary);
            cursor: pointer;
            font-size: 1.2rem;
            transition: color 0.3s ease;
        }

        .mini-control-btn:hover {
            color: var(--primary-color);
        }

        .mini-progress {
            position: absolute;
            top: 0;
            left: 0;
            height: 2px;
            background-color: var(--primary-color);
            transition: width 0.1s linear;
        }

        /* Content pages styles */
        .page {
            display: none;
            padding: 1rem 0;
        }

        .page.active {
            display: block;
        }

        .page-header {
            background: linear-gradient(to right, #20207e, #5D5CDE);
            padding: 2rem;
            border-radius: 10px;
            margin-bottom: 2rem;
        }

        .page-header h2 {
            font-size: 2rem;
            margin-bottom: 0.5rem;
        }

        .page-description {
            color: var(--text-secondary);
            max-width: 700px;
        }

        .content-section {
            background-color: var(--card-background);
            padding: 2rem;
            border-radius: 10px;
            margin-bottom: 2rem;
            transition: background-color 0.3s ease;
        }

        .content-section h3 {
            color: var(--primary-color);
            margin-bottom: 1rem;
        }

        .content-section p {
            line-height: 1.6;
            margin-bottom: 1rem;
        }

        .faq-item {
            background-color: var(--card-background);
            border-radius: 8px;
            margin-bottom: 1rem;
            overflow: hidden;
            transition: background-color 0.3s ease;
        }

        .faq-question {
            background-color: var(--background-lighter);
            padding: 1rem;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: background-color 0.3s ease;
        }

        .faq-question:hover {
            background-color: var(--primary-color);
        }

        .faq-answer {
            padding: 0 1rem;
            max-height: 0;
            overflow: hidden;
            transition: all 0.3s ease;
        }

        .faq-answer.active {
            padding: 1rem;
            max-height: 200px;
        }

        .integration-card {
            background-color: var(--card-background);
            border-radius: 10px;
            padding: 1.5rem;
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 1rem;
            transition: background-color 0.3s ease;
        }

        .integration-icon {
            width: 50px;
            height: 50px;
            background-color: var(--primary-color);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
        }

        .integration-info h4 {
            margin-bottom: 0.5rem;
        }

        .integration-info p {
            color: var(--text-secondary);
            font-size: 0.9rem;
        }

        .grid-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 1.5rem;
        }

        .artist-card {
            background-color: var(--card-background);
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .artist-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.2);
        }

        .artist-img {
            width: 100%;
            height: 200px;
            object-fit: cover;
        }

        .artist-info {
            padding: 1rem;
            text-align: center;
        }

        .artist-name {
            font-size: 1.1rem;
            margin-bottom: 0.5rem;
        }

        .artist-genre {
            color: var(--text-secondary);
            font-size: 0.8rem;
        }

        .album-card {
            background-color: var(--card-background);
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .album-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.2);
        }

        .album-cover {
            width: 100%;
            height: 200px;
            object-fit: cover;
        }

        .album-info {
            padding: 1rem;
        }

        .album-title {
            font-size: 1.1rem;
            margin-bottom: 0.5rem;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .album-artist {
            color: var(--primary-color);
            font-size: 0.9rem;
            margin-bottom: 0.5rem;
        }

        .album-details {
            font-size: 0.8rem;
            color: var(--text-secondary);
            display: flex;
            justify-content: space-between;
        }

        /* Artist and Album pages */
        .artist-page, .album-page {
            display: none;
            padding: 1rem 0;
        }

        .artist-page.active, .album-page.active {
            display: block;
        }

        .artist-header, .album-header {
            display: flex;
            align-items: center;
            gap: 2rem;
            margin-bottom: 2rem;
            padding: 1.5rem;
            background-color: var(--background-lighter);
            border-radius: 10px;
            transition: background-color 0.3s ease;
        }

        .artist-image, .album-image {
            width: 200px;
            height: 200px;
            border-radius: 10px;
            object-fit: cover;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
        }

        .artist-details, .album-details {
            flex: 1;
        }

        .artist-name-large, .album-title-large {
            font-size: 2rem;
            margin-bottom: 0.5rem;
        }

        .artist-genre-large, .album-artist-large {
            color: var(--primary-color);
            font-size: 1.2rem;
            margin-bottom: 1rem;
        }

        .artist-bio, .album-description {
            color: var(--text-secondary);
            line-height: 1.6;
            max-width: 600px;
        }

        /* Search results */
        .search-results {
            display: none;
            padding: 1rem 0;
        }

        .search-results.active {
            display: block;
        }

        .search-title {
            margin-bottom: 1.5rem;
        }

        .search-title span {
            color: var(--primary-color);
        }

        .search-empty {
            text-align: center;
            padding: 3rem 1rem;
            color: var(--text-secondary);
        }

        .search-empty i {
            font-size: 3rem;
            margin-bottom: 1rem;
            opacity: 0.5;
        }

        /* Loading indicator with headphones */
        .loading {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.8);
            z-index: 9999;
            justify-content: center;
            align-items: center;
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
        }

        .loading.active {
            display: flex;
        }

        .musical-loader {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 1.5rem;
        }

        .headphones-icon {
            font-size: 4rem;
            color: #5D5CDE;
            animation: headphonesPulse 1.5s ease-in-out infinite;
        }

        .loading-dots {
            display: flex;
            gap: 0.5rem;
            align-items: center;
        }

        .loading-dot {
            width: 12px;
            height: 12px;
            background-color: #5D5CDE;
            border-radius: 50%;
            animation: dotBounce 0.6s ease-in-out infinite;
        }

        .loading-dot:nth-child(1) {
            animation-delay: 0s;
        }

        .loading-dot:nth-child(2) {
            animation-delay: 0.2s;
        }

        .loading-dot:nth-child(3) {
            animation-delay: 0.4s;
        }

        @keyframes headphonesPulse {
            0%, 100% {
                transform: scale(1);
                opacity: 0.8;
            }
            50% {
                transform: scale(1.1);
                opacity: 1;
            }
        }

        @keyframes dotBounce {
            0%, 100% {
                transform: scale(1);
                opacity: 0.3;
            }
            50% {
                transform: scale(1.3);
                opacity: 1;
            }
        }

        .loading-text {
            margin-top: 2rem;
            color: var(--text-primary);
            font-size: 1.2rem;
            font-weight: 500;
            text-align: center;
        }

        /* Error message styles */
        .error-message {
            background-color: #dc3545;
            color: white;
            padding: 1rem;
            border-radius: 5px;
            margin-bottom: 1rem;
            text-align: center;
        }

        .empty-state {
            text-align: center;
            padding: 3rem 1rem;
            color: var(--text-secondary);
        }

        .empty-state i {
            font-size: 3rem;
            margin-bottom: 1rem;
            opacity: 0.5;
        }

        /* Footer styles */
        footer {
            background-color: var(--background-darker);
            padding: 2rem;
            text-align: center;
            margin-top: 3rem;
            transition: background-color 0.3s ease;
        }

        .footer-logo {
            color: var(--primary-color);
            font-size: 1.5rem;
            font-weight: bold;
            margin-bottom: 1rem;
            display: block;
        }

        .social-links {
            display: flex;
            justify-content: center;
            gap: 1rem;
            margin-bottom: 1.5rem;
        }

        .social-link {
            color: var(--text-primary);
            background-color: var(--background-lighter);
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
        }

        .social-link:hover {
            background-color: var(--primary-color);
            transform: translateY(-3px);
        }

        .footer-links {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 1.5rem;
            margin-bottom: 1.5rem;
        }

        .footer-link {
            color: var(--text-secondary);
            text-decoration: none;
            transition: color 0.3s ease;
        }

        .footer-link:hover {
            color: var(--primary-color);
        }

        .copyright {
            color: var(--text-tertiary);
            font-size: 0.9rem;
        }

        /* Banner responsive styles */
        @media screen and (max-width: 768px) {
            .banner-slider {
                height: 160px;
            }

            .banner-slide {
                padding: 1.5rem;
            }

            .banner-content {
                flex-direction: column;
                text-align: center;
                gap: 1rem;
            }

            .banner-visual {
                margin-left: 0;
            }

            .banner-icon {
                font-size: 2.5rem;
            }

            .banner-text h3 {
                font-size: 1.4rem;
                justify-content: center;
            }

            .banner-text p {
                font-size: 0.9rem;
                margin-bottom: 1rem;
            }

            .banner-decorations {
                width: 80px;
                height: 80px;
            }

            .banner-nav {
                width: 35px;
                height: 35px;
            }

            .banner-prev {
                left: 0.5rem;
            }

            .banner-next {
                right: 0.5rem;
            }
        }

        @media screen and (max-width: 480px) {
            .banner-slider {
                height: 140px;
            }

            .banner-slide {
                padding: 1rem;
            }

            .banner-text h3 {
                font-size: 1.2rem;
            }

            .banner-text p {
                font-size: 0.8rem;
                line-height: 1.3;
            }

            .banner-btn {
                padding: 0.6rem 1rem;
                font-size: 0.9rem;
            }

            .banner-icon {
                font-size: 2rem;
            }
        }

        /* Responsive styles */
        @media screen and (max-width: 768px) {
            header {
                padding: 1rem;
            }

            .nav-links {
                position: fixed;
                top: 0;
                right: -100%;
                width: 70%;
                height: 100vh;
                background-color: var(--background-darker);
                flex-direction: column;
                align-items: flex-start;
                padding: 5rem 2rem;
                transition: right 0.3s ease;
                z-index: 100;
            }

            .nav-links.active {
                right: 0;
            }

            .nav-links a {
                margin: 0;
                margin-bottom: 1.5rem;
            }

            .hamburger {
                display: flex;
            }

            .search-container {
                position: fixed;
                top: 70px;
                left: 0;
                right: 0;
                background-color: var(--background-darker);
                padding: 1rem;
                box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
                display: none;
                z-index: 99;
            }

            .search-container.active {
                display: block;
            }

            .search-input {
                width: 100%;
            }

            .search-input:focus {
                width: 100%;
            }

            .hero h1 {
                font-size: 2rem;
            }

            .grid-container {
                grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
            }

            .player-cover {
                height: 280px;
                margin: 1rem;
                width: calc(100% - 2rem);
            }

            .player-song-title {
                font-size: 1.5rem;
            }

            .controls {
                gap: 1.5rem;
            }

            .control-btn {
                font-size: 1.2rem;
            }

            .control-btn.main {
                width: 60px;
                height: 60px;
                font-size: 1.5rem;
            }

            .footer-links {
                flex-direction: column;
                gap: 1rem;
            }

            .artist-header, .album-header {
                flex-direction: column;
                text-align: center;
            }

            .artist-image, .album-image {
                width: 150px;
                height: 150px;
            }

            .mini-player {
                padding: 0.75rem;
            }

            .mini-player-cover {
                width: 40px;
                height: 40px;
            }

            .headphones-icon {
                font-size: 3rem;
            }

            .loading-dot {
                width: 10px;
                height: 10px;
            }
        }

        @media screen and (max-width: 480px) {
            .genre-buttons {
                flex-direction: column;
                align-items: center;
            }

            .genre-button {
                width: 100%;
                max-width: 300px;
                text-align: center;
            }

            .music-card {
                min-width: 150px;
            }

            .music-cover {
                height: 150px;
            }

            .grid-container {
                grid-template-columns: repeat(auto-fill, minmax(130px, 1fr));
            }

            .headphones-icon {
                font-size: 2.5rem;
            }

            .loading-text {
                font-size: 1rem;
            }

            .loading-dot {
                width: 8px;
                height: 8px;
            }
        }

        /* Animation classes */
        .fade-in {
            animation: fadeIn 0.5s ease forwards;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Support for older browsers */
        @supports not (display: flex) {
            .genre-buttons, .music-scroll, .controls, .social-links, .footer-links {
                display: block;
            }

            .genre-button, .music-card, .artist-card, .album-card {
                display: inline-block;
                margin: 0.5rem;
            }
        }

        @supports not (position: sticky) {
            header {
                position: absolute;
            }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header>
        <a href="DIUA.png" class="logo" onclick="showPage('home')">
            <img src="diua_music_transparent.png" alt="DiuaMusic Logo" class="logo-img">  Diua Music
        </a>
        <div class="hamburger" onclick="toggleMenu()">
            <span></span>
            <span></span>
            <span></span>
        </div>
        <div class="nav-links">
            <a href="#" class="active" onclick="showPage('home')">Home</a>
            <a href="#" onclick="showPage('musicas')">Músicas</a>
            <a href="#" onclick="showPage('artistas')">Artistas</a>
            <a href="#" onclick="showPage('albuns')">Álbuns</a>
            <a href="#" onclick="showPage('sobre')">Sobre Nós</a>
            <a href="#" onclick="showPage('faq')">FAQ</a>
            <div class="search-container" id="searchContainer">
                <input type="text" placeholder="Buscar música, artista..." class="search-input" id="searchInput">
                <button class="search-btn" onclick="search()">
                    <i class="fas fa-search"></i>
                </button>
            </div>
        </div>
    </header>

    <!-- Main content -->
    <main>
        <!-- Home page -->
        <div class="page active" id="home">
            <div class="hero">
                <h1>DIUA Music</h1>
                <p>Nossos talentos locais são o nosso tesouro.</p>
                <div class="genre-buttons">
                    <a href="#" class="genre-button" onclick="showGenre('kizomba')">
                        <i class="fas fa-guitar"></i> Kizomba
                    </a>
                    <a href="#" class="genre-button" onclick="showGenre('rap')">
                        <i class="fas fa-microphone"></i> Rap
                    </a>
                    <a href="#" class="genre-button" onclick="showGenre('trap')">
                        <i class="fas fa-drum"></i> Trap
                    </a>
                    <a href="#" class="genre-button" onclick="showGenre('gospel')">
                        <i class="fas fa-pray"></i> Gospel
                    </a>
                </div>
            </div>

            <!-- Banner Slider -->
            <div class="banner-slider-container">
                <div class="banner-slider" id="bannerSlider">
                    <div class="banner-slide active">
                        <div class="banner-content">
                            <div class="banner-text">
                                <h3><i class="fas fa-palette"></i> Descubra Diua Artes</h3>
                                <p>Explore uma incrível galeria de desenhos e pinturas criadas com paixão e criatividade</p>
                                <a href="https://diua-maker.github.io/galeria/" target="_blank" class="banner-btn">
                                    <i class="fas fa-external-link-alt"></i> Visitar Galeria
                                </a>
                            </div>
                            <div class="banner-visual">
                                <i class="fas fa-paint-brush banner-icon"></i>
                                <div class="banner-decorations">
                                    <div class="decoration-circle"></div>
                                    <div class="decoration-triangle"></div>
                                    <div class="decoration-square"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="banner-slide">
                        <div class="banner-content">
                            <div class="banner-text">
                                <h3><i class="fas fa-brush"></i> Arte Visual Única</h3>
                                <p>Mergulhe no mundo das cores e formas com as criações artísticas de Coragem Diua</p>
                                <a href="https://diua-maker.github.io/galeria/" target="_blank" class="banner-btn">
                                    <i class="fas fa-images"></i> Ver Obras
                                </a>
                            </div>
                            <div class="banner-visual">
                                <i class="fas fa-palette banner-icon"></i>
                                <div class="banner-decorations">
                                    <div class="decoration-circle"></div>
                                    <div class="decoration-triangle"></div>
                                    <div class="decoration-square"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="banner-slide">
                        <div class="banner-content">
                            <div class="banner-text">
                                <h3><i class="fas fa-art-station"></i> Talento Local</h3>
                                <p>Apoie o talento artístico moçambicano e descubra obras que contam histórias únicas</p>
                                <a href="https://diua-maker.github.io/galeria/" target="_blank" class="banner-btn">
                                    <i class="fas fa-heart"></i> Apoiar Arte
                                </a>
                            </div>
                            <div class="banner-visual">
                                <i class="fas fa-pencil-alt banner-icon"></i>
                                <div class="banner-decorations">
                                    <div class="decoration-circle"></div>
                                    <div class="decoration-triangle"></div>
                                    <div class="decoration-square"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="banner-dots">
                    <span class="banner-dot active" onclick="currentBannerSlide(1)"></span>
                    <span class="banner-dot" onclick="currentBannerSlide(2)"></span>
                    <span class="banner-dot" onclick="currentBannerSlide(3)"></span>
                </div>
                
                <button class="banner-nav banner-prev" onclick="changeBannerSlide(-1)">
                    <i class="fas fa-chevron-left"></i>
                </button>
                <button class="banner-nav banner-next" onclick="changeBannerSlide(1)">
                    <i class="fas fa-chevron-right"></i>
                </button>
            </div>

            <h2 class="section-title">
                <i class="fas fa-clock"></i> Adicionadas Recentemente
            </h2>
            <div class="music-container">
                <button class="scroll-btn scroll-left" onclick="scrollMusic('recent', -1)">
                    <i class="fas fa-chevron-left"></i>
                </button>
                <div class="music-scroll" id="recentMusic">
                    <!-- Music cards will be inserted here by JavaScript -->
                </div>
                <button class="scroll-btn scroll-right" onclick="scrollMusic('recent', 1)">
                    <i class="fas fa-chevron-right"></i>
                </button>
            </div>

            <h2 class="section-title">
                <i class="fas fa-fire"></i> Músicas Populares
            </h2>
            <div class="music-container">
                <button class="scroll-btn scroll-left" onclick="scrollMusic('popular', -1)">
                    <i class="fas fa-chevron-left"></i>
                </button>
                <div class="music-scroll" id="popularMusic">
                    <!-- Music cards will be inserted here by JavaScript -->
                </div>
                <button class="scroll-btn scroll-right" onclick="scrollMusic('popular', 1)">
                    <i class="fas fa-chevron-right"></i>
                </button>
            </div>
        </div>

        <!-- Músicas page -->
        <div class="page" id="musicas">
            <div class="page-header">
                <h2>Todas as Músicas</h2>
                <p class="page-description">Explore nossa vasta coleção de músicas de diferentes gêneros e artistas.</p>
            </div>
            <div class="grid-container" id="allMusic">
                <!-- Music cards will be inserted here by JavaScript -->
            </div>
        </div>

        <!-- Artistas page -->
        <div class="page" id="artistas">
            <div class="page-header">
                <h2>Artistas</h2>
                <p class="page-description">Conheça os artistas por trás das músicas que você ama.</p>
            </div>
            <div class="grid-container" id="allArtists">
                <!-- Artist cards will be inserted here by JavaScript -->
            </div>
        </div>

        <!-- Álbuns page -->
        <div class="page" id="albuns">
            <div class="page-header">
                <h2>Álbuns</h2>
                <p class="page-description">Descubra álbuns completos e mergulhe nas histórias que eles contam.</p>
            </div>
            <div class="grid-container" id="allAlbums">
                <!-- Album cards will be inserted here by JavaScript -->
            </div>
        </div>

        <!-- Sobre Nós page -->
        <div class="page" id="sobre">
            <div class="page-header">
                <h2>Sobre Nós</h2>
                <p class="page-description">Conheça nossa missão de promover e apoiar o talento musical local.</p>
            </div>
            
            <div class="content-section">
                <h3>Nossa Missão</h3>
                <p>A DIUA Music foi criada com o objetivo de valorizar e promover os talentos musicais locais. Acreditamos que a música é uma forma poderosa de expressão cultural e queremos proporcionar uma plataforma onde artistas emergentes possam compartilhar sua arte com o mundo.</p>
                <p>Nossa plataforma conecta artistas e ouvintes, criando uma comunidade vibrante onde a música local pode florescer e alcançar novos públicos.</p>
            </div>

            <div class="content-section">
                <h3>Nossa Visão</h3>
                <p>Ser a principal plataforma de descoberta e promoção de música local, criando oportunidades para artistas independentes crescerem e se conectarem com seus fãs.</p>
            </div>

            <div class="content-section">
                <h3>Nossos Valores</h3>
                <p><strong>Autenticidade:</strong> Valorizamos a originalidade e a expressão genuína dos artistas.</p>
                <p><strong>Comunidade:</strong> Construímos pontes entre artistas e ouvintes, criando conexões significativas.</p>
                <p><strong>Diversidade:</strong> Celebramos todos os gêneros musicais e estilos artísticos.</p>
                <p><strong>Inovação:</strong> Utilizamos tecnologia para melhorar a experiência musical de todos.</p>
            </div>

            <div class="content-section">
                <h3>Integrações de Plataformas</h3>
                <div class="integration-card">
                    <div class="integration-icon">
                        <i class="fab fa-youtube"></i>
                    </div>
                    <div class="integration-info">
                        <h4>YouTube</h4>
                        <p>Integração completa com vídeos musicais e clipes dos artistas</p>
                    </div>
                </div>
                
                <div class="integration-card">
                    <div class="integration-icon">
                        <i class="fab fa-spotify"></i>
                    </div>
                    <div class="integration-info">
                        <h4>Spotify</h4>
                        <p>Acesso direto às playlists e álbuns disponíveis no Spotify</p>
                    </div>
                </div>
                
                <div class="integration-card">
                    <div class="integration-icon">
                        <i class="fab fa-soundcloud"></i>
                    </div>
                    <div class="integration-info">
                        <h4>SoundCloud</h4>
                        <p>Reprodução de faixas exclusivas e demos dos artistas</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- FAQ page -->
        <div class="page" id="faq">
            <div class="page-header">
                <h2>Perguntas Frequentes</h2>
                <p class="page-description">Encontre respostas para as dúvidas mais comuns sobre a DIUA Music.</p>
            </div>

            <div class="faq-item">
                <div class="faq-question" onclick="toggleFaq(this)">
                    <span>Como posso adicionar minha música à plataforma?</span>
                    <i class="fas fa-chevron-down"></i>
                </div>
                <div class="faq-answer">
                    <p>Para adicionar sua música, entre em contato conosco através do email contato@diuamusic.com. Envie suas faixas em formato MP3 ou WAV, junto com as informações do artista, álbum e capa. Nossa equipe irá revisar e adicionar sua música à plataforma.</p>
                </div>
            </div>

            <div class="faq-item">
                <div class="faq-question" onclick="toggleFaq(this)">
                    <span>A plataforma é gratuita?</span>
                    <i class="fas fa-chevron-down"></i>
                </div>
                <div class="faq-answer">
                    <p>Sim! A DIUA Music é gratuita para ouvintes. Oferecemos acesso livre a todo nosso catálogo de música local. Para artistas, oferecemos hospedagem de suas músicas a um valor amigável.</p>
                </div>
            </div>

            <div class="faq-item">
                <div class="faq-question" onclick="toggleFaq(this)">
                    <span>Posso baixar as músicas?</span>
                    <i class="fas fa-chevron-down"></i>
                </div>
                <div class="faq-answer">
                    <p>O download das músicas depende da autorização do artista. Algumas faixas estão disponíveis para download gratuito, enquoutras são apenas para streaming. Verifique o botão de download no player da música.</p>
                </div>
            </div>

            <div class="faq-item">
                <div class="faq-question" onclick="toggleFaq(this)">
                    <span>Como funciona a integração com outras plataformas?</span>
                    <i class="fas fa-chevron-down"></i>
                </div>
                <div class="faq-answer">
                    <p>Nossa plataforma se integra com YouTube, Spotify e SoundCloud para oferecer uma experiência completa. Quando disponível, você pode ouvir a música diretamente de outras plataformas sem sair do nosso site.</p>
                </div>
            </div>

            <div class="faq-item">
                <div class="faq-question" onclick="toggleFaq(this)">
                    <span>Como posso entrar em contato com um artista?</span>
                    <i class="fas fa-chevron-down"></i>
                </div>
                <div class="faq-answer">
                    <p>Na página do artista, você encontrará links para suas redes sociais e informações de contato, quando disponibilizadas. Respeitamos a privacidade dos artistas e só compartilhamos informações que eles autorizam.</p>
                </div>
            </div>

            <div class="faq-item">
                <div class="faq-question" onclick="toggleFaq(this)">
                    <span>Posso criar playlists?</span>
                    <i class="fas fa-chevron-down"></i>
                </div>
                <div class="faq-answer">
                    <p>Atualmente estamos desenvolvendo a funcionalidade de playlists personalizadas. Em breve você poderá criar e compartilhar suas próprias playlists com suas músicas favoritas da plataforma.</p>
                </div>
            </div>

            <div class="faq-item">
                <div class="faq-question" onclick="toggleFaq(this)">
                    <span>A plataforma funciona no celular?</span>
                    <i class="fas fa-chevron-down"></i>
                </div>
                <div class="faq-answer">
                    <p>Sim! A DIUA Music é totalmente responsiva e funciona perfeitamente em smartphones e tablets. Você pode acessar através do navegador do seu dispositivo móvel e ter uma experiência otimizada.</p>
                </div>
            </div>
        </div>

        <!-- Genre pages -->
        <div class="page" id="kizomba">
            <div class="page-header">
                <h2>Kizomba</h2>
                <p class="page-description">Descubra as melhores músicas e artistas de Kizomba.</p>
            </div>
            <div class="grid-container" id="kizombaMusic">
                <!-- Music cards will be inserted here by JavaScript -->
            </div>
        </div>

        <div class="page" id="rap">
            <div class="page-header">
                <h2>Rap</h2>
                <p class="page-description">Explore o mundo do Rap com os melhores artistas e faixas.</p>
            </div>
            <div class="grid-container" id="rapMusic">
                <!-- Music cards will be inserted here by JavaScript -->
            </div>
        </div>

        <div class="page" id="trap">
            <div class="page-header">
                <h2>Trap</h2>
                <p class="page-description">As batidas mais pesadas e os maiores sucessos do Trap.</p>
            </div>
            <div class="grid-container" id="trapMusic">
                <!-- Music cards will be inserted here by JavaScript -->
            </div>
        </div>

        <div class="page" id="gospel">
            <div class="page-header">
                <h2>Gospel</h2>
                <p class="page-description">Músicas inspiradoras e espirituais para elevar sua alma.</p>
            </div>
            <div class="grid-container" id="gospelMusic">
                <!-- Music cards will be inserted here by JavaScript -->
            </div>
        </div>

        <!-- Artist page -->
        <div class="artist-page" id="artistPage">
            <div class="artist-header">
                <img src="" alt="Artist Image" class="artist-image" id="artistImage">
                <div class="artist-details">
                    <h2 class="artist-name-large" id="artistNameLarge"></h2>
                    <p class="artist-genre-large" id="artistGenreLarge"></p>
                    <p class="artist-bio" id="artistBio">Este artista tem contribuído significativamente para a cena musical com suas músicas cativantes e performances memoráveis.</p>
                </div>
            </div>
            <h2 class="section-title">
                <i class="fas fa-music"></i> Músicas
            </h2>
            <div class="grid-container" id="artistSongs">
                <!-- Artist's songs will be inserted here by JavaScript -->
            </div>
        </div>

        <!-- Album page -->
        <div class="album-page" id="albumPage">
            <div class="album-header">
                <img src="" alt="Album Cover" class="album-image" id="albumImage">
                <div class="album-details">
                    <h2 class="album-title-large" id="albumTitleLarge"></h2>
                    <p class="album-artist-large" id="albumArtistLarge"></p>
                    <p class="album-description" id="albumDescription">Este álbum apresenta uma coleção de músicas que mostram a versatilidade e criatividade do artista.</p>
                </div>
            </div>
            <h2 class="section-title">
                <i class="fas fa-music"></i> Faixas
            </h2>
            <div class="grid-container" id="albumSongs">
                <!-- Album's songs will be inserted here by JavaScript -->
            </div>
        </div>

        <!-- Search results -->
        <div class="search-results" id="searchResults">
            <h2 class="search-title">Resultados para "<span id="searchQuery"></span>"</h2>
            <div class="grid-container" id="searchResultsGrid">
                <!-- Search results will be inserted here by JavaScript -->
            </div>
            <div class="search-empty" id="searchEmpty" style="display: none;">
                <i class="fas fa-search"></i>
                <h3>Nenhum resultado encontrado</h3>
                <p>Tente buscar por outros termos ou navegue pelas categorias.</p>
            </div>
        </div>
    </main>

    <!-- Music Player - FULLSCREEN -->
    <div class="music-player-container" id="musicPlayer">
        <div class="music-player">
            <div class="player-header">
                <div class="player-title">Reproduzindo</div>
                <div class="player-controls">
                    <button class="minimize-player" onclick="minimizePlayer()" title="Minimizar">
                        <i class="fas fa-chevron-down"></i>
                    </button>
                    <button class="close-player" onclick="closePlayer()" title="Fechar">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
            </div>
            <div class="player-cover">
                <img id="playerCover" src="" alt="Capa do álbum">
            </div>
            <div class="player-info">
                <h3 class="player-song-title" id="playerTitle"></h3>
                <p class="player-song-artist" id="playerArtist"></p>
                <p class="player-song-details" id="playerDetails"></p>
                <div class="progress-container" id="progressContainer">
                    <div class="progress-bar" id="progressBar"></div>
                </div>
                <div class="time-container">
                    <span id="currentTime">0:00</span>
                    <span id="duration">0:00</span>
                </div>
                <div class="controls">
                    <button class="control-btn" id="shuffleBtn" title="Aleatório">
                        <i class="fas fa-random"></i>
                    </button>
                    <button class="control-btn" id="prevBtn" title="Anterior">
                        <i class="fas fa-step-backward"></i>
                    </button>
                    <button class="control-btn main" id="playBtn" title="Reproduzir/Pausar">
                        <i class="fas fa-play" id="playIcon"></i>
                    </button>
                    <button class="control-btn" id="nextBtn" title="Próximo">
                        <i class="fas fa-step-forward"></i>
                    </button>
                    <button class="control-btn" id="repeatBtn" title="Repetir">
                        <i class="fas fa-redo"></i>
                    </button>
                </div>
                <a href="#" class="download-btn" id="downloadBtn" target="_blank">
                    <i class="fas fa-download"></i> Download
                </a>
            </div>
        </div>
    </div>

    <!-- Mini Player -->
    <div class="mini-player" id="miniPlayer">
        <div class="mini-progress" id="miniProgress"></div>
        <div class="mini-player-cover" onclick="expandPlayer()">
            <img id="miniPlayerCover" src="" alt="Capa">
        </div>
        <div class="mini-player-info" onclick="expandPlayer()">
            <div class="mini-player-title" id="miniPlayerTitle"></div>
            <div class="mini-player-artist" id="miniPlayerArtist"></div>
        </div>
        <div class="mini-player-controls">
            <button class="mini-control-btn" id="miniPrevBtn">
                <i class="fas fa-step-backward"></i>
            </button>
            <button class="mini-control-btn" id="miniPlayBtn">
                <i class="fas fa-play" id="miniPlayIcon"></i>
            </button>
            <button class="mini-control-btn" id="miniNextBtn">
                <i class="fas fa-step-forward"></i>
            </button>
            <button class="mini-control-btn" onclick="closePlayer()">
                <i class="fas fa-times"></i>
            </button>
        </div>
    </div>

    <!-- Loading indicator with headphones -->
    <div class="loading" id="loading">
        <div>
            <div class="musical-loader">
                <div class="headphones-icon">
                    <i class="fas fa-headphones"></i>
                </div>
                <div class="loading-dots">
                    <div class="loading-dot"></div>
                    <div class="loading-dot"></div>
                    <div class="loading-dot"></div>
                </div>
            </div>
            <div class="loading-text">Carregando música...</div>
        </div>
    </div>

    <!-- Footer -->
    <footer>
        <span class="footer-logo">DIUA Music</span>
        <div class="social-links">
            <a href="#" class="social-link" target="_blank">
                <i class="fab fa-facebook-f"></i>
            </a>
            <a href="#" class="social-link" target="_blank">
                <i class="fab fa-twitter"></i>
            </a>
            <a href="#" class="social-link" target="_blank">
                <i class="fab fa-instagram"></i>
            </a>
            <a href="#" class="social-link" target="_blank">
                <i class="fab fa-youtube"></i>
            </a>
        </div>
        <div class="footer-links">
            <a href="#" class="footer-link" onclick="showPage('sobre')">Sobre Nós</a>
            <a href="#" class="footer-link">Contato</a>
            <a href="#" class="footer-link">Termos de Uso</a>
            <a href="#" class="footer-link">Política de Privacidade</a>
            <a href="#" class="footer-link" onclick="showPage('faq')">FAQ</a>
        </div>
        <p class="copyright">© 2025 DIUA Music. Todos os direitos reservados.</p>
    </footer>

    <script>
        // Check for dark mode preference and set theme
        function setTheme() {
            if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
                document.documentElement.classList.add('dark');
            } else {
                document.documentElement.classList.remove('dark');
            }
        }
        
        // Initialize theme
        setTheme();
        
        // Listen for theme changes
        window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', event => {
            setTheme();
        });

        // Banner slider variables
        let currentBannerIndex = 0;
        let bannerTimer;

        // Banner slider functions
        function initBannerSlider() {
            // Auto-slide every 5 seconds
            bannerTimer = setInterval(() => {
                changeBannerSlide(1);
            }, 5000);
        }

        function changeBannerSlide(direction) {
            const slides = document.querySelectorAll('.banner-slide');
            const dots = document.querySelectorAll('.banner-dot');
            const totalSlides = slides.length;
            
            // Remove active class from current slide and dot
            slides[currentBannerIndex].classList.remove('active');
            dots[currentBannerIndex].classList.remove('active');
            
            // Calculate new index
            currentBannerIndex += direction;
            
            if (currentBannerIndex >= totalSlides) {
                currentBannerIndex = 0;
            } else if (currentBannerIndex < 0) {
                currentBannerIndex = totalSlides - 1;
            }
            
            // Add active class to new slide and dot
            slides[currentBannerIndex].classList.add('active');
            dots[currentBannerIndex].classList.add('active');
            
            // Reset timer
            clearInterval(bannerTimer);
            bannerTimer = setInterval(() => {
                changeBannerSlide(1);
            }, 5000);
        }

        function currentBannerSlide(index) {
            const slides = document.querySelectorAll('.banner-slide');
            const dots = document.querySelectorAll('.banner-dot');
            
            // Remove active class from all slides and dots
            slides.forEach(slide => slide.classList.remove('active'));
            dots.forEach(dot => dot.classList.remove('active'));
            
            // Set new current index
            currentBannerIndex = index - 1;
            
            // Add active class to selected slide and dot
            slides[currentBannerIndex].classList.add('active');
            dots[currentBannerIndex].classList.add('active');
            
            // Reset timer
            clearInterval(bannerTimer);
            bannerTimer = setInterval(() => {
                changeBannerSlide(1);
            }, 5000);
        }

        // Supabase configuration
        const supabaseUrl = 'https://aejenqzfjqoerwmkejup.supabase.co'; // Substitua pela sua URL do Supabase
        const supabaseKey = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFlamVucXpmanFvZXJ3bWtlanVwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDg3ODc1NjksImV4cCI6MjA2NDM2MzU2OX0.w0Ouv3Io6EIutqluv1i9AFHa3_sOuYwHxabAL6f6Q1U '; // Substitua pela sua chave pública do Supabase
        const supabase = window.supabase.createClient(supabaseUrl, supabaseKey);

        // Global variables
        let currentSong = null;
        let isPlaying = false;
        let shuffle = false;
        let repeat = false;
        let audioPlayer;
        let updateTimer;
        let musicData = [];
        let artistsData = [];
        let albumsData = [];
        let isPlayerMinimized = false;

        // Platform integration functions
        const PlatformIntegration = {
            // YouTube integration
            youtube: {
                extractVideoId(url) {
                    const match = url.match(/(?:youtube\.com\/watch\?v=|youtu\.be\/)([^&\n?#]+)/);
                    return match ? match[1] : null;
                },
                
                createEmbedUrl(videoId) {
                    return `https://www.youtube.com/embed/${videoId}?autoplay=1&controls=1`;
                },
                
                isYouTubeUrl(url) {
                    return url.includes('youtube.com') || url.includes('youtu.be');
                }
            },

            // Spotify integration
            spotify: {
                extractTrackId(url) {
                    const match = url.match(/spotify\.com\/track\/([^?]+)/);
                    return match ? match[1] : null;
                },
                
                createEmbedUrl(trackId) {
                    return `https://open.spotify.com/embed/track/${trackId}`;
                },
                
                isSpotifyUrl(url) {
                    return url.includes('spotify.com');
                }
            },

            // SoundCloud integration
            soundcloud: {
                createEmbedUrl(url) {
                    return `https://w.soundcloud.com/player/?url=${encodeURIComponent(url)}&auto_play=true&hide_related=false&show_comments=true&show_user=true&show_reposts=false&visual=true`;
                },
                
                isSoundCloudUrl(url) {
                    return url.includes('soundcloud.com');
                }
            },

            // Main function to handle platform-specific playback
            handlePlatformPlayback(song) {
                const audioUrl = song.audio_url || '';
                
                if (this.youtube.isYouTubeUrl(audioUrl)) {
                    const videoId = this.youtube.extractVideoId(audioUrl);
                    if (videoId) {
                        this.createPlatformPlayer(this.youtube.createEmbedUrl(videoId), 'YouTube');
                        return true;
                    }
                } else if (this.spotify.isSpotifyUrl(audioUrl)) {
                    const trackId = this.spotify.extractTrackId(audioUrl);
                    if (trackId) {
                        this.createPlatformPlayer(this.spotify.createEmbedUrl(trackId), 'Spotify');
                        return true;
                    }
                } else if (this.soundcloud.isSoundCloudUrl(audioUrl)) {
                    this.createPlatformPlayer(this.soundcloud.createEmbedUrl(audioUrl), 'SoundCloud');
                    return true;
                }
                
                return false; // Use default audio player
            },

            createPlatformPlayer(embedUrl, platform) {
                // Create iframe for external platform
                const iframe = document.createElement('iframe');
                iframe.src = embedUrl;
                iframe.width = '100%';
                iframe.height = '350';
                iframe.frameBorder = '0';
                iframe.allow = 'autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture';
                iframe.loading = 'lazy';
                iframe.style.borderRadius = '20px';
                
                // Replace player cover with iframe
                const playerCover = document.getElementById('playerCover').parentElement;
                playerCover.innerHTML = '';
                playerCover.appendChild(iframe);
                
                // Update player title to show platform
                document.querySelector('.player-title').textContent = `Reproduzindo via ${platform}`;
                
                // Hide some controls that won't work with external platforms
                document.getElementById('progressContainer').style.display = 'none';
                document.querySelector('.time-container').style.display = 'none';
                document.getElementById('downloadBtn').style.display = 'none';
            }
        };

        // DOM Elements
        const musicPlayer = document.getElementById('musicPlayer');
        const miniPlayer = document.getElementById('miniPlayer');
        const playerCover = document.getElementById('playerCover');
        const playerTitle = document.getElementById('playerTitle');
        const playerArtist = document.getElementById('playerArtist');
        const playerDetails = document.getElementById('playerDetails');
        const progressBar = document.getElementById('progressBar');
        const progressContainer = document.getElementById('progressContainer');
        const currentTimeEl = document.getElementById('currentTime');
        const durationEl = document.getElementById('duration');
        const playBtn = document.getElementById('playBtn');
        const playIcon = document.getElementById('playIcon');
        const prevBtn = document.getElementById('prevBtn');
        const nextBtn = document.getElementById('nextBtn');
        const shuffleBtn = document.getElementById('shuffleBtn');
        const repeatBtn = document.getElementById('repeatBtn');
        const downloadBtn = document.getElementById('downloadBtn');
        const loading = document.getElementById('loading');
        const searchInput = document.getElementById('searchInput');
        const searchContainer = document.getElementById('searchContainer');
        
        // Mini player elements
        const miniPlayerCover = document.getElementById('miniPlayerCover');
        const miniPlayerTitle = document.getElementById('miniPlayerTitle');
        const miniPlayerArtist = document.getElementById('miniPlayerArtist');
        const miniProgress = document.getElementById('miniProgress');
        const miniPlayBtn = document.getElementById('miniPlayBtn');
        const miniPlayIcon = document.getElementById('miniPlayIcon');
        const miniPrevBtn = document.getElementById('miniPrevBtn');
        const miniNextBtn = document.getElementById('miniNextBtn');

        // Other DOM elements
        const artistPage = document.getElementById('artistPage');
        const artistImage = document.getElementById('artistImage');
        const artistNameLarge = document.getElementById('artistNameLarge');
        const artistGenreLarge = document.getElementById('artistGenreLarge');
        const artistSongs = document.getElementById('artistSongs');
        const albumPage = document.getElementById('albumPage');
        const albumImage = document.getElementById('albumImage');
        const albumTitleLarge = document.getElementById('albumTitleLarge');
        const albumArtistLarge = document.getElementById('albumArtistLarge');
        const albumSongs = document.getElementById('albumSongs');

        // Initialize the application
        document.addEventListener('DOMContentLoaded', async function() {
            try {
                showLoading();
                
                // Initialize banner slider
                initBannerSlider();
                
                // Load data from Supabase
                await loadMusicData();
                await loadArtistsData();
                await loadAlbumsData();
                
                // Display music data on the home page
                displayRecentMusic();
                displayPopularMusic();
                
                // Display all music, artists, and albums on their respective pages
                displayAllMusic();
                displayAllArtists();
                displayAllAlbums();
                
                // Display genre-specific music
                displayGenreMusic('kizomba', 'kizombaMusic');
                displayGenreMusic('rap', 'rapMusic');
                displayGenreMusic('trap', 'trapMusic');
                displayGenreMusic('gospel', 'gospelMusic');
                
                hideLoading();
            } catch (error) {
                console.error('Erro ao carregar dados:', error);
                showError('Erro ao carregar as músicas. Tente atualizar a página.');
                hideLoading();
            }
            
            // Add event listener to search input
            searchInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    search();
                }
            });
            
            // Initialize Howler.js for audio
            Howler.html5PoolSize = 10;
            
            // Setup event listeners for player
            setupPlayerControls();
        });

        // Player control functions
        function minimizePlayer() {
            musicPlayer.style.display = 'none';
            miniPlayer.classList.add('active');
            isPlayerMinimized = true;
            
            // Update mini player info
            updateMiniPlayer();
        }

        function expandPlayer() {
            musicPlayer.style.display = 'flex';
            miniPlayer.classList.remove('active');
            isPlayerMinimized = false;
        }

        function updateMiniPlayer() {
            if (currentSong) {
                miniPlayerCover.src = currentSong.capa_url || 'https://picsum.photos/300/300';
                miniPlayerTitle.textContent = currentSong.titulo;
                miniPlayerArtist.textContent = currentSong.artista;
                
                // Sync play/pause state
                if (isPlaying) {
                    miniPlayIcon.classList.remove('fa-play');
                    miniPlayIcon.classList.add('fa-pause');
                } else {
                    miniPlayIcon.classList.remove('fa-pause');
                    miniPlayIcon.classList.add('fa-play');
                }
            }
        }

        // Toggle FAQ items
        function toggleFaq(element) {
            const answer = element.nextElementSibling;
            const icon = element.querySelector('i');
            
            // Close other open FAQ items
            document.querySelectorAll('.faq-answer.active').forEach(item => {
                if (item !== answer) {
                    item.classList.remove('active');
                    item.previousElementSibling.querySelector('i').style.transform = 'rotate(0deg)';
                }
            });
            
            // Toggle current FAQ item
            answer.classList.toggle('active');
            
            if (answer.classList.contains('active')) {
                icon.style.transform = 'rotate(180deg)';
            } else {
                icon.style.transform = 'rotate(0deg)';
            }
        }

        // Load music data from Supabase
        async function loadMusicData() {
            try {
                const { data, error } = await supabase
                    .from('musicas')
                    .select('*')
                    .order('created_at', { ascending: false });
                
                if (error) throw error;
                
                musicData = data || [];
            } catch (error) {
                console.error('Erro ao carregar músicas:', error);
                throw error;
            }
        }

        // Load artists data from Supabase
        async function loadArtistsData() {
            try {
                const { data, error } = await supabase
                    .from('artistas')
                    .select('*')
                    .order('nome');
                
                if (error) throw error;
                
                artistsData = data || [];
            } catch (error) {
                console.error('Erro ao carregar artistas:', error);
                throw error;
            }
        }

        // Load albums data from Supabase
        async function loadAlbumsData() {
            try {
                const { data, error } = await supabase
                    .from('albuns')
                    .select('*')
                    .order('ano', { ascending: false });
                
                if (error) throw error;
                
                albumsData = data || [];
            } catch (error) {
                console.error('Erro ao carregar álbuns:', error);
                throw error;
            }
        }

        // Display recently added music
        function displayRecentMusic() {
            const recentMusic = document.getElementById('recentMusic');
            recentMusic.innerHTML = '';
            
            if (musicData.length === 0) {
                recentMusic.innerHTML = '<div class="empty-state"><i class="fas fa-music"></i><h3>Nenhuma música disponível</h3><p>As músicas aparecerão aqui quando forem adicionadas.</p></div>';
                return;
            }
            
            // Get last 10 songs
            const recent = musicData.slice(0, 10);
            
            recent.forEach(song => {
                recentMusic.appendChild(createMusicCard(song));
            });
        }

        // Display popular music
        function displayPopularMusic() {
            const popularMusic = document.getElementById('popularMusic');
            popularMusic.innerHTML = '';
            
            if (musicData.length === 0) {
                popularMusic.innerHTML = '<div class="empty-state"><i class="fas fa-fire"></i><h3>Nenhuma música popular</h3><p>As músicas populares aparecerão aqui.</p></div>';
                return;
            }
            
            // Shuffle and get random 10 songs for "popular"
            const popular = [...musicData].sort(() => 0.5 - Math.random()).slice(0, 10);
            
            popular.forEach(song => {
                popularMusic.appendChild(createMusicCard(song));
            });
        }

        // Display all music
        function displayAllMusic() {
            const allMusic = document.getElementById('allMusic');
            allMusic.innerHTML = '';
            
            if (musicData.length === 0) {
                allMusic.innerHTML = '<div class="empty-state" style="grid-column: 1/-1;"><i class="fas fa-music"></i><h3>Nenhuma música disponível</h3><p>As músicas aparecerão aqui quando forem adicionadas.</p></div>';
                return;
            }
            
            musicData.forEach(song => {
                allMusic.appendChild(createMusicCard(song, 'grid'));
            });
        }

        // Display all artists
        function displayAllArtists() {
            const allArtists = document.getElementById('allArtists');
            allArtists.innerHTML = '';
            
            if (artistsData.length === 0) {
                allArtists.innerHTML = '<div class="empty-state" style="grid-column: 1/-1;"><i class="fas fa-users"></i><h3>Nenhum artista disponível</h3><p>Os artistas aparecerão aqui quando forem adicionados.</p></div>';
                return;
            }
            
            artistsData.forEach(artist => {
                const card = createArtistCard(artist);
                card.addEventListener('click', () => {
                    showArtistPage(artist);
                });
                allArtists.appendChild(card);
            });
        }

        // Display all albums
        function displayAllAlbums() {
            const allAlbums = document.getElementById('allAlbums');
            allAlbums.innerHTML = '';
            
            if (albumsData.length === 0) {
                allAlbums.innerHTML = '<div class="empty-state" style="grid-column: 1/-1;"><i class="fas fa-compact-disc"></i><h3>Nenhum álbum disponível</h3><p>Os álbuns aparecerão aqui quando forem adicionados.</p></div>';
                return;
            }
            
            albumsData.forEach(album => {
                const card = createAlbumCard(album);
                card.addEventListener('click', () => {
                    showAlbumPage(album);
                });
                allAlbums.appendChild(card);
            });
        }

        // Display genre-specific music
        function displayGenreMusic(genre, elementId) {
            const genreMusic = document.getElementById(elementId);
            genreMusic.innerHTML = '';
            
            const filteredMusic = musicData.filter(song => song.genero === genre);
            
            if (filteredMusic.length === 0) {
                genreMusic.innerHTML = '<div class="empty-state" style="grid-column: 1/-1;"><i class="fas fa-music"></i><h3>Nenhuma música deste gênero</h3><p>As músicas deste gênero aparecerão aqui quando forem adicionadas.</p></div>';
                return;
            }
            
            filteredMusic.forEach(song => {
                genreMusic.appendChild(createMusicCard(song, 'grid'));
            });
        }

        // Create a music card element
        function createMusicCard(song, layout = 'scroll') {
            const card = document.createElement('div');
            card.classList.add('music-card');
            card.classList.add('fade-in');
            
            if (layout === 'grid') {
                card.style.width = '100%';
            }

            // Determine platform indicator
            let platformIndicator = '';
            const audioUrl = song.audio_url || '';
            if (PlatformIntegration.youtube.isYouTubeUrl(audioUrl)) {
                platformIndicator = '<div class="platform-indicator"><i class="fab fa-youtube"></i> YouTube</div>';
            } else if (PlatformIntegration.spotify.isSpotifyUrl(audioUrl)) {
                platformIndicator = '<div class="platform-indicator"><i class="fab fa-spotify"></i> Spotify</div>';
            } else if (PlatformIntegration.soundcloud.isSoundCloudUrl(audioUrl)) {
                platformIndicator = '<div class="platform-indicator"><i class="fab fa-soundcloud"></i> SoundCloud</div>';
            }
            
            card.innerHTML = `
                <div class="music-cover">
                    <img src="${song.capa_url || 'https://picsum.photos/300/300'}" alt="${song.titulo}" onerror="this.src='https://picsum.photos/300/300'">
                    ${platformIndicator}
                    <div class="play-overlay">
                        <button class="play-btn">
                            <i class="fas fa-play"></i>
                        </button>
                    </div>
                </div>
                <div class="music-info">
                    <h3 class="music-title">${song.titulo}</h3>
                    <p class="music-artist">${song.artista}</p>
                    <div class="music-details">
                        <span>${song.album || ''}</span>
                        <span>${song.ano || ''}</span>
                    </div>
                </div>
            `;
            
            card.addEventListener('click', () => {
                playSong(song);
            });
            
            return card;
        }

        // Create an artist card element
        function createArtistCard(artist) {
            const card = document.createElement('div');
            card.classList.add('artist-card');
            card.classList.add('fade-in');
            
            card.innerHTML = `
                <img src="${artist.imagem_url || 'https://picsum.photos/300/300'}" alt="${artist.nome}" class="artist-img" onerror="this.src='https://picsum.photos/300/300'">
                <div class="artist-info">
                    <h3 class="artist-name">${artist.nome}</h3>
                    <p class="artist-genre">${artist.genero || 'Gênero não especificado'}</p>
                </div>
            `;
            
            return card;
        }

        // Create an album card element
        function createAlbumCard(album) {
            const card = document.createElement('div');
            card.classList.add('album-card');
            card.classList.add('fade-in');
            
            card.innerHTML = `
                <img src="${album.capa_url || 'https://picsum.photos/300/300'}" alt="${album.titulo}" class="album-cover" onerror="this.src='https://picsum.photos/300/300'">
                <div class="album-info">
                    <h3 class="album-title">${album.titulo}</h3>
                    <p class="album-artist">${album.artista}</p>
                    <div class="album-details">
                        <span>${album.ano || ''}</span>
                        <span>${album.num_faixas || 0} faixas</span>
                    </div>
                </div>
            `;
            
            return card;
        }

        // Show artist page with their songs
        function showArtistPage(artist) {
            // Hide all pages
            document.querySelectorAll('.page').forEach(page => {
                page.classList.remove('active');
            });
            document.getElementById('searchResults').classList.remove('active');
            
            // Update artist info
            artistImage.src = artist.imagem_url || 'https://picsum.photos/300/300';
            artistImage.onerror = () => { artistImage.src = 'https://picsum.photos/300/300'; };
            artistNameLarge.textContent = artist.nome;
            artistGenreLarge.textContent = artist.genero || 'Gênero não especificado';
            
            // Filter songs by artist
            artistSongs.innerHTML = '';
            const artistSongsList = musicData.filter(song => song.artista === artist.nome);
            
            if (artistSongsList.length > 0) {
                artistSongsList.forEach(song => {
                    artistSongs.appendChild(createMusicCard(song, 'grid'));
                });
            } else {
                artistSongs.innerHTML = '<p style="grid-column: 1/-1; text-align: center; color: var(--text-secondary);">Nenhuma música encontrada para este artista.</p>';
            }
            
            // Show artist page
            artistPage.classList.add('active');
            
            // Scroll to top
            window.scrollTo(0, 0);
        }

        // Show album page with its songs
        function showAlbumPage(album) {
            // Hide all pages
            document.querySelectorAll('.page').forEach(page => {
                page.classList.remove('active');
            });
            document.getElementById('searchResults').classList.remove('active');
            
            // Update album info
            albumImage.src = album.capa_url || 'https://picsum.photos/300/300';
            albumImage.onerror = () => { albumImage.src = 'https://picsum.photos/300/300'; };
            albumTitleLarge.textContent = album.titulo;
            albumArtistLarge.textContent = album.artista;
            
            // Filter songs by album
            albumSongs.innerHTML = '';
            const albumSongsList = musicData.filter(song => song.album === album.titulo && song.artista === album.artista);
            
            if (albumSongsList.length > 0) {
                albumSongsList.forEach(song => {
                    albumSongs.appendChild(createMusicCard(song, 'grid'));
                });
            } else {
                albumSongs.innerHTML = '<p style="grid-column: 1/-1; text-align: center; color: var(--text-secondary);">Nenhuma música encontrada para este álbum.</p>';
            }
            
            // Show album page
            albumPage.classList.add('active');
            
            // Scroll to top
            window.scrollTo(0, 0);
        }

        // Play a song
        function playSong(song) {
            showLoading();
            
            // If there's an existing song playing, destroy it
            if (audioPlayer) {
                audioPlayer.stop();
                audioPlayer.unload();
                clearInterval(updateTimer);
            }
            
            currentSong = song;
            
            // Update player UI
            playerCover.src = song.capa_url || 'https://picsum.photos/300/300';
            playerCover.onerror = () => { playerCover.src = 'https://picsum.photos/300/300'; };
            playerTitle.textContent = song.titulo;
            playerArtist.textContent = song.artista;
            playerDetails.textContent = `${song.album || ''} • ${song.ano || ''}`;
            downloadBtn.href = song.audio_url || '#';
            
            // Reset player display elements
            document.getElementById('progressContainer').style.display = 'block';
            document.querySelector('.time-container').style.display = 'flex';
            document.getElementById('downloadBtn').style.display = 'flex';
            
            // Format duration for display
            const minutes = Math.floor((song.duracao || 0) / 60);
            const seconds = (song.duracao || 0) % 60;
            durationEl.textContent = `${minutes}:${seconds < 10 ? '0' + seconds : seconds}`;
            
            // Check if this is a platform-specific URL
            if (PlatformIntegration.handlePlatformPlayback(song)) {
                // Platform player created, show player and hide loading
                musicPlayer.style.display = 'flex';
                miniPlayer.classList.remove('active');
                isPlayerMinimized = false;
                hideLoading();
                
                // Update mini player info
                updateMiniPlayer();
                return;
            }
            
            // Create new audio player for regular audio files
            if (song.audio_url) {
                audioPlayer = new Howl({
                    src: [song.audio_url],
                    html5: true,
                    onplay: function() {
                        isPlaying = true;
                        playIcon.classList.remove('fa-play');
                        playIcon.classList.add('fa-pause');
                        updateTimer = setInterval(updateProgress, 1000);
                        hideLoading();
                        updateMiniPlayer();
                    },
                    onpause: function() {
                        isPlaying = false;
                        playIcon.classList.remove('fa-pause');
                        playIcon.classList.add('fa-play');
                        clearInterval(updateTimer);
                        updateMiniPlayer();
                    },
                    onstop: function() {
                        isPlaying = false;
                        playIcon.classList.remove('fa-pause');
                        playIcon.classList.add('fa-play');
                        clearInterval(updateTimer);
                        updateMiniPlayer();
                    },
                    onend: function() {
                        if (repeat) {
                            audioPlayer.play();
                        } else {
                            nextSong();
                        }
                    },
                    onloaderror: function() {
                        alert('Erro ao carregar áudio. Tente novamente mais tarde.');
                        hideLoading();
                        closePlayer();
                    }
                });
                
                // Show player and start playing
                setTimeout(() => {
                    musicPlayer.style.display = 'flex';
                    miniPlayer.classList.remove('active');
                    isPlayerMinimized = false;
                    audioPlayer.play();
                }, 800);
            } else {
                alert('URL de áudio não disponível para esta música.');
                hideLoading();
            }
        }

        // Set up player controls
        function setupPlayerControls() {
            // Play/Pause button
            playBtn.addEventListener('click', togglePlay);
            miniPlayBtn.addEventListener('click', togglePlay);
            
            // Next button
            nextBtn.addEventListener('click', nextSong);
            miniNextBtn.addEventListener('click', nextSong);
            
            // Previous button
            prevBtn.addEventListener('click', prevSong);
            miniPrevBtn.addEventListener('click', prevSong);
            
            // Shuffle button
            shuffleBtn.addEventListener('click', toggleShuffle);
            
            // Repeat button
            repeatBtn.addEventListener('click', toggleRepeat);
            
            // Progress bar click
            progressContainer.addEventListener('click', setProgress);
        }

        // Toggle play/pause
        function togglePlay() {
            if (!audioPlayer) return;
            
            if (isPlaying) {
                audioPlayer.pause();
            } else {
                audioPlayer.play();
            }
        }

        // Play next song
        function nextSong() {
            if (!currentSong || musicData.length === 0) return;
            
            let nextIndex;
            
            if (shuffle) {
                // Play random song if shuffle is on
                nextIndex = Math.floor(Math.random() * musicData.length);
            } else {
                // Find current index and play next
                const currentIndex = musicData.findIndex(song => song.id === currentSong.id);
                nextIndex = (currentIndex + 1) % musicData.length;
            }
            
            playSong(musicData[nextIndex]);
        }

        // Play previous song
        function prevSong() {
            if (!currentSong || musicData.length === 0) return;
            
            // Find current index
            const currentIndex = musicData.findIndex(song => song.id === currentSong.id);
            
            // Play previous or last song
            let prevIndex = currentIndex - 1;
            if (prevIndex < 0) prevIndex = musicData.length - 1;
            
            playSong(musicData[prevIndex]);
        }

        // Toggle shuffle mode
        function toggleShuffle() {
            shuffle = !shuffle;
            
            if (shuffle) {
                shuffleBtn.style.color = 'var(--primary-color)';
            } else {
                shuffleBtn.style.color = 'var(--text-primary)';
            }
        }

        // Toggle repeat mode
        function toggleRepeat() {
            repeat = !repeat;
            
            if (repeat) {
                repeatBtn.style.color = 'var(--primary-color)';
            } else {
                repeatBtn.style.color = 'var(--text-primary)';
            }
        }

        // Update progress bar
        function updateProgress() {
            if (!audioPlayer) return;
            
            const currentTime = audioPlayer.seek();
            const duration = audioPlayer.duration();
            
            // Update progress bar width
            const progressPercent = (currentTime / duration) * 100;
            progressBar.style.width = `${progressPercent}%`;
            miniProgress.style.width = `${progressPercent}%`;
            
            // Update current time display
            const minutes = Math.floor(currentTime / 60);
            const seconds = Math.floor(currentTime % 60);
            currentTimeEl.textContent = `${minutes}:${seconds < 10 ? '0' + seconds : seconds}`;
        }

        // Set progress when clicking on progress bar
        function setProgress(e) {
            if (!audioPlayer) return;
            
            const width = this.clientWidth;
            const clickX = e.offsetX;
            const duration = audioPlayer.duration();
            const clickedTime = (clickX / width) * duration;
            
            audioPlayer.seek(clickedTime);
        }

        // Close the player
        function closePlayer() {
            if (audioPlayer) {
                audioPlayer.stop();
                clearInterval(updateTimer);
                audioPlayer = null;
            }
            
            musicPlayer.style.display = 'none';
            miniPlayer.classList.remove('active');
            isPlayerMinimized = false;
            currentSong = null;
            isPlaying = false;
        }

        // Navigate between pages
        function showPage(pageId) {
            // Hide all pages
            document.querySelectorAll('.page').forEach(page => {
                page.classList.remove('active');
            });
            
            // Hide search results and artist/album pages
            document.getElementById('searchResults').classList.remove('active');
            document.getElementById('artistPage').classList.remove('active');
            document.getElementById('albumPage').classList.remove('active');
            
            // Show the selected page
            document.getElementById(pageId).classList.add('active');
            
            // Update active navigation link
            document.querySelectorAll('.nav-links a').forEach(link => {
                link.classList.remove('active');
            });
            
            // Find and update the active link
            document.querySelectorAll('.nav-links a').forEach(link => {
                if (link.getAttribute('onclick') === `showPage('${pageId}')`) {
                    link.classList.add('active');
                }
            });
            
            // Close mobile menu if open
            document.querySelector('.nav-links').classList.remove('active');
            
            // Scroll to top
            window.scrollTo(0, 0);
        }

        // Navigate to genre page
        function showGenre(genreId) {
            showPage(genreId);
        }

        // Toggle mobile menu
        function toggleMenu() {
            document.querySelector('.nav-links').classList.toggle('active');
            
            // Animate hamburger icon
            const hamburger = document.querySelector('.hamburger');
            hamburger.classList.toggle('active');
            
            if (hamburger.classList.contains('active')) {
                hamburger.querySelector('span:nth-child(1)').style.transform = 'rotate(45deg) translate(5px, 5px)';
                hamburger.querySelector('span:nth-child(2)').style.opacity = '0';
                hamburger.querySelector('span:nth-child(3)').style.transform = 'rotate(-45deg) translate(5px, -5px)';
            } else {
                hamburger.querySelector('span:nth-child(1)').style.transform = 'none';
                hamburger.querySelector('span:nth-child(2)').style.opacity = '1';
                hamburger.querySelector('span:nth-child(3)').style.transform = 'none';
            }
        }

        // Toggle search container on mobile
        function toggleSearch() {
            searchContainer.classList.toggle('active');
        }

        // Search functionality
        function search() {
            const query = searchInput.value.trim().toLowerCase();
            
            if (query === '') return;
            
            // Show loading
            showLoading();
            
            // Get search results
            const results = musicData.filter(song => 
                song.titulo.toLowerCase().includes(query) || 
                song.artista.toLowerCase().includes(query) || 
                (song.album && song.album.toLowerCase().includes(query)) || 
                song.genero.toLowerCase().includes(query)
            );
            
            // Update search results page
            const searchResultsGrid = document.getElementById('searchResultsGrid');
            const searchEmpty = document.getElementById('searchEmpty');
            const searchQuery = document.getElementById('searchQuery');
            
            searchQuery.textContent = query;
            
            if (results.length > 0) {
                searchResultsGrid.innerHTML = '';
                results.forEach(song => {
                    searchResultsGrid.appendChild(createMusicCard(song, 'grid'));
                });
                
                searchResultsGrid.style.display = 'grid';
                searchEmpty.style.display = 'none';
            } else {
                searchResultsGrid.style.display = 'none';
                searchEmpty.style.display = 'block';
            }
            
            // Hide all pages and show search results
            document.querySelectorAll('.page').forEach(page => {
                page.classList.remove('active');
            });
            
            document.getElementById('artistPage').classList.remove('active');
            document.getElementById('albumPage').classList.remove('active');
            document.getElementById('searchResults').classList.add('active');
            
            // Close mobile menu and search if open
            document.querySelector('.nav-links').classList.remove('active');
            searchContainer.classList.remove('active');
            
            // Reset hamburger icon
            const hamburger = document.querySelector('.hamburger');
            hamburger.classList.remove('active');
            hamburger.querySelector('span:nth-child(1)').style.transform = 'none';
            hamburger.querySelector('span:nth-child(2)').style.opacity = '1';
            hamburger.querySelector('span:nth-child(3)').style.transform = 'none';
            
            // Hide loading
            hideLoading();
            
            // Clear search input
            searchInput.value = '';
        }

        // Scroll music containers
        function scrollMusic(containerId, direction) {
            const container = document.getElementById(`${containerId}Music`);
            const scrollAmount = direction * 400;
            container.scrollBy({
                left: scrollAmount,
                behavior: 'smooth'
            });
        }

        // Show loading indicator
        function showLoading() {
            loading.classList.add('active');
        }

        // Hide loading indicator
        function hideLoading() {
            loading.classList.remove('active');
        }

        // Show error message
        function showError(message) {
            const errorDiv = document.createElement('div');
            errorDiv.className = 'error-message';
            errorDiv.textContent = message;
            
            // Insert at the top of main content
            const main = document.querySelector('main');
            main.insertBefore(errorDiv, main.firstChild);
            
            // Remove after 5 seconds
            setTimeout(() => {
                if (errorDiv.parentNode) {
                    errorDiv.parentNode.removeChild(errorDiv);
                }
            }, 5000);
        }

        // Handle search container on window resize
        window.addEventListener('resize', function() {
            if (window.innerWidth > 768) {
                document.getElementById('searchContainer').style.display = 'block';
            } else {
                document.getElementById('searchContainer').style.display = 'none';
                document.getElementById('searchContainer').classList.remove('active');
            }
        });

        // Polyfill for older browsers
        if (!Element.prototype.closest) {
            Element.prototype.closest = function(s) {
                var el = this;
                do {
                    if (el.matches(s)) return el;
                    el = el.parentElement || el.parentNode;
                } while (el !== null && el.nodeType === 1);
                return null;
            };
        }

        if (!Element.prototype.matches) {
            Element.prototype.matches = Element.prototype.msMatchesSelector || Element.prototype.webkitMatchesSelector;
        }
    </script>
</body>
</html>
